<!DOCTYPE html>
<html>
<head>
  <title>Submit Review</title>
</head>
<body>

<h2>Submit Review</h2>

<select id="rating">
  <option>1</option>
  <option>2</option>
  <option>3</option>
  <option>4</option>
  <option selected>5</option>
</select>

<br><br>

<textarea id="review" rows="4" cols="40"></textarea>

<br><br>

<button onclick="submitReview()">Submit</button>

<p id="response"></p>

<script>
async function submitReview() {
  const rating = document.getElementById("rating").value;
  const review = document.getElementById("review").value;

  try {
    const res = await fetch(
      "https://fynd-backend-tl8g.onrender.com/api/reviews",
      {
        method: "POST",
        headers: {
          "Content-Type": "application/json"
        },
        body: JSON.stringify({
          rating: Number(rating),
          review
        })
      }
    );

    const data = await res.json();

    if (!res.ok) {
      alert("Backend error: " + JSON.stringify(data));
      return;
    }

    alert("Review submitted successfully!");
    document.getElementById("review").value = "";
  } catch (e) {
    alert("Network error: " + e.message);
  }
}
</script>

</body>
</html>
